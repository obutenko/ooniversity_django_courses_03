{% extends "base.html" %}


{% load staticfiles %}


{% block title %}Student list{% endblock title %}


{% block active_students %}active{% endblock active_students %}


{% block content %}
		<div class="container">
			<div class="page-header">
				<h1>Список студентов</h1>
			</div>

			{% if messages %}
				{% for message in messages %}
				<div class="jumbotron">
					{{ message }}
				</div>
				{% endfor %}
			{% endif %}
			<a href="{% url 'students:add' %}">
			<button type="button" class="btn btn-default btn-lg">
  			<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Добавить нового студента
			</button>
			</a>
			<div class="row">
				<div class="col-md-12">
					<table class="table table-striped">
						<thead>
						  <tr>
								<th>#</th>
						    <th>Фамилия имя</th>
						    <th>Адрес</th>
								<th>skype</th>
								<th>курсы</th>
						   </tr>
						</thead>
						<tbody>
							{% for st in object_list %}
					    <tr>
								<td>{{ forloop.counter }}</td> 
						    <td><a href="{% url 'students:detail' st.id %}">{{ st.name }} {{ st.surname }}</td>
								<td>{{ st.address }}</td>
								<td>{{ st.skype }}</td>
								<td>
									{% for cour in st.courses.all %}								
									<p><a href="{% url 'courses:detail' cour.id %}">{{ cour.name }}</p>
									{% endfor %}
								</td>
								<td>
									<a href="{% url 'students:edit' st.id %}">
										<button type="button" class="btn btn-default btn-lg">
  										<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Изменить
										</button>
									</a>
								<td>
								<td>
									<a href="{% url 'students:remove' st.id %}">
										<button type="button" class="btn btn-default btn-lg">
  										<span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Удалить
										</button>
									</a>
								<td>

							</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
			<div class="pagination">
    		<span type="button" class="btn btn-default">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}
				{% for page_number in paginator.page_range %}
        <span type="button" class="btn btn-default">
            <a href="?page={{ page_number }}" class="active">{{ page_number }}</a>
        </span>
				{% endfor %}
        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
        {% endif %}
    		</span>
			</div>
		</div>
{% endblock content %}
		
