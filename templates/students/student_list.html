{% extends "base.html" %}
{% load staticfiles %}

{% block title %}PyBursa student_list{% endblock title %}


{% block nav_class_students %}active{% endblock %}


{% block content %}
<div class="jumbotron">

{{ title }}
{% if messages %}
  <ul class="messages">
  {% for message in messages %}
  <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
   {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
 {{ message }}
 </li>
 {% endfor %}
 </ul>
 {% endif %}
        

  <a href="{% url 'students:add' %}">Добавить нового студента</a>

  <h3>Список студентов</h3> 
  <table class="table">
    <tr><th>#</th><th>Фамилия имя</th><th>Адрес</th><th>Skype</th><th>Курсы</th><th></th></tr> 
    {% for i in student_list %}
      <td>{{i.id}}</td>
	
      <td><a href="{% url 'students:detail' i.id %}">{{i.name}} {{i.surname}}</a></td>
      <td>{{i.address}}</td>
      <td>{{i.skype}}</td>
      <td><table  class="table" >
      {% for course in i.courses.all %}
        <tr><td><a href="{% url 'courses:detail' course.id %}">{{course}}</a></td></tr>
      {% endfor %}
      </table></td>
<td><a href="{% url 'students:edit'  i.id %}">Изменить</a></td>
<td><a href="{% url 'students:remove'  i.id %}">Удалить</a></td>
      </tr>
    {% endfor %}
  </table>


<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}"><< previous</a>
        {% endif %}

	<span class="current">
	{% for page in page_obj.paginator.page_range %}
      <a class="page">{{ page }}</a>
      	{% endfor %}
 	</span> 
        
	{% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next >></a>
        {% endif %}
    </span>
</div>
{% endblock content %}
      

﻿
