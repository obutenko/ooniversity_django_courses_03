{% extends "base.html" %}


{% load staticfiles %}


{% block title %}Студенты{% endblock title %}


{% block nav_class_student %}active{% endblock nav_class_student %}


{% block content %}

{% if messages %}
<div class="container" id="sto">
<div class="alert alert-success" role="alert">
    {% for message in messages %}
    {{ message }}
    {% endfor %}
</div>
</div>
{% endif %}
<div class="container" id="sto">
<a class="btn btn-primary btn-lg" href="{% url 'students:add' %}" role="button"> + Добавить нового студента</a></p>
</div>
{% include "include/inc_BestoftheBest_include.html" %}
<div class="container" id="sto">
        <h1><strong>Список студентов</strong></h1>
    </div>
    <table class="table table-hover">
        <tr>
            <td class="cool1">
                #
            </td>
            <td>
                фамилия имя
            </td>
            <td>
                адрес
            </td>
            <td>
                Skype
            </td>
            <td>
                курсы
            </td>
            <td>
            </td>
            <td>
            </td>
        </tr>
        {% for student in object_list %}
        <tr>
            <td>
                {{ forloop.counter }}
            </td>
            <td>
                <a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a>
            </td>
            <td>
                {{ student.address }}
            </td>
            <td>
                {{ student.skype }}
            </td>            
            <td>
            	{% for course in student.courses.all %}
				<a href="{% url 'courses:detail' course.id %}">{{ course.name }}</a></br>
				{% endfor %}
            </td>
            <td>
            	<p><a class="btn btn-primary btn-lg" href="{% url 'students:edit' student.id %}" role="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>Изменить</a></p>
            </td>
            <td>
            	<p><a href="{% url 'students:remove' student.id %}" class="btn btn-info btn-lg">
         <span class="glyphicon glyphicon-ok"></span> Удалить 
        </a></p>
            </td>            
        </tr>
        {% endfor %}
    </table></br>
<nav>
  <ul class="pagination">
    <li>
    	{% if page_obj.has_previous %}
      <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous">
        <span aria-hidden="true"><< previous</span></a>
      	{% endif %}	
    </li>
    {% for num in page_obj.paginator.page_range %}
        {% if num == page_obj.number %}
        <li class="active"><a href="#">{{ num }}<span class="sr-only">(current)</span></a></li>
        {% else %}
    <li><a href="?page={{ num }}">{{ num }} </a></li>
    	{% endif %} 
    {% endfor %}
    <li>
    	{% if page_obj.has_next %}
      <a href="?page={{ page_obj.next_page_number }}" aria-label="Next">
        <span aria-hidden="true">next >></span></a>
      	{% endif %}
    </li>
  </ul>
</nav>
{% endblock content %}
